{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/router\";\nfunction HeaderComponent_ul_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\")(1, \"li\")(2, \"a\", 21);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_6_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.setTitle(\"Signup\"));\n    });\n    i0.ɵɵtext(3, \"Join\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\")(5, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_6_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.setTitle(\"Login\"));\n    });\n    i0.ɵɵtext(6, \" Login\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_6_Template_a_click_8_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.setTitle(\"Login\"));\n    });\n    i0.ɵɵtext(9, \" Contact us\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction HeaderComponent_ul_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\")(1, \"li\")(2, \"a\", 24);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_7_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.setTitle(\"Order History\"));\n    });\n    i0.ɵɵtext(3, \"Orders\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\")(5, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_7_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.setTitle(\"Login\"));\n    });\n    i0.ɵɵtext(6, \"Settings\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 26);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ul_7_Template_a_click_8_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.setTitle(\"Signup\"));\n    });\n    i0.ɵɵtext(9, \"logout\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction HeaderComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵelement(1, \"i\", 28);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 29);\n    i0.ɵɵelement(1, \"i\", 30);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-adminheader\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-normalheader\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(mytitle, myrouter) {\n      //following is an event we created not a function which will be invoked auto whenever we do navigationEnd Event\n      this.mytitle = mytitle;\n      this.myrouter = myrouter;\n      this.loginStatus = false;\n      this.admin_header = false;\n      myrouter.events.subscribe({\n        next: event => {\n          if (event instanceof NavigationEnd) {\n            //navigationEnd --> as soon as our new comp is being loaded --> before new comp loaded\n            //navigationStart --> as soon as our current comp is being directed to new comp --> after old comp left\n            this.ngOnInit();\n          }\n        }\n      });\n    }\n    ngOnInit() {\n      if (sessionStorage.getItem(\"pname\") == undefined) {\n        this.loginStatus = false;\n        this.personName = \"Guest\";\n      } else {\n        this.loginStatus = true;\n        this.personName = sessionStorage.getItem(\"pname\");\n      }\n      if (sessionStorage.getItem(\"usertype\") == \"admin\") {\n        this.admin_header = true;\n      } else {\n        this.admin_header = false;\n      }\n      //but now the problem we are facing is this, we can't view our name unless we refresh\n      //so to deal with it we have (ROUTER NAVIGATION INSTANCE) router.events --> navigateEnd, navigateStart etc methods\n    }\n\n    setTitle(tit) {\n      this.mytitle.setTitle(tit);\n    }\n    onsearch() {\n      this.myrouter.navigate([\"/searchresults\"], {\n        queryParams: {\n          s: this.stxt\n        }\n      });\n    }\n  }\n  HeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.Title), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  HeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"app-header\"]],\n    decls: 33,\n    vars: 8,\n    consts: [[1, \"agileits_header\"], [1, \"container\"], [1, \"w3l_offers\"], [1, \"agile-login\"], [4, \"ngIf\"], [1, \"product_list_header\"], [\"action\", \"#\", \"method\", \"post\", 1, \"last\"], [\"class\", \"w3view-cart\", \"type\", \"submit\", \"name\", \"submit\", \"value\", \"\", \"routerLink\", \"/showcart\", 4, \"ngIf\"], [\"class\", \"w3view-cart\", \"type\", \"submit\", \"name\", \"submit\", \"value\", \"\", \"routerLink\", \"/showcat\", 4, \"ngIf\"], [1, \"clearfix\"], [1, \"logo_products\"], [1, \"w3ls_logo_products_left1\"], [1, \"phone_email\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-phone\"], [1, \"w3ls_logo_products_left\"], [\"routerLink\", \"/\"], [1, \"w3l_search\"], [\"action\", \"#\", \"method\", \"post\"], [\"type\", \"search\", \"name\", \"Search\", \"placeholder\", \"Search for a Product...\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"name\", \"btn\", \"aria-label\", \"Left Align\", 1, \"btn\", \"btn-default\", \"search\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-search\"], [\"routerLink\", \"signup\", 3, \"click\"], [\"routerLink\", \"login\", 3, \"click\"], [\"routerLink\", \"contactus\", 3, \"click\"], [\"routerLink\", \"/orderhistory\", 3, \"click\"], [\"routerLink\", \"/changepswd\", 3, \"click\"], [\"routerLink\", \"/logout\", 3, \"click\"], [\"type\", \"submit\", \"name\", \"submit\", \"value\", \"\", \"routerLink\", \"/showcart\", 1, \"w3view-cart\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-cart-arrow-down\"], [\"type\", \"submit\", \"name\", \"submit\", \"value\", \"\", \"routerLink\", \"/showcat\", 1, \"w3view-cart\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-shopping-bag\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"p\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵtemplate(6, HeaderComponent_ul_6_Template, 10, 0, \"ul\", 4);\n        i0.ɵɵtemplate(7, HeaderComponent_ul_7_Template, 10, 0, \"ul\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5)(9, \"form\", 6);\n        i0.ɵɵtemplate(10, HeaderComponent_button_10_Template, 2, 0, \"button\", 7);\n        i0.ɵɵtemplate(11, HeaderComponent_button_11_Template, 2, 0, \"button\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(12, \"div\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 1)(15, \"div\", 11)(16, \"ul\", 12)(17, \"li\");\n        i0.ɵɵelement(18, \"i\", 13);\n        i0.ɵɵtext(19, \"Order online or call us : (+0123) 234 567\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"div\", 14)(21, \"h1\")(22, \"a\", 15);\n        i0.ɵɵtext(23, \"Apni Dukaan\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"div\", 16)(25, \"form\", 17)(26, \"input\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function HeaderComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.stxt = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_button_click_27_listener() {\n          return ctx.onsearch();\n        });\n        i0.ɵɵelement(28, \"i\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"div\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(30, \"div\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(31, HeaderComponent_div_31_Template, 2, 0, \"div\", 4);\n        i0.ɵɵtemplate(32, HeaderComponent_div_32_Template, 2, 0, \"div\", 4);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Welcome \", ctx.personName, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loginStatus);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginStatus);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginStatus);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loginStatus);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngModel\", ctx.stxt);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.admin_header);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.admin_header);\n      }\n    },\n    styles: [\".header-nav[_ngcontent-%COMP%]{width:100%!important;display:flex;justify-content:space-around;color:#fff;text-decoration:none;list-style:none}.flex-container[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:space-between;padding:0 5em}.flex-item[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin:0 1em;text-decoration:none}\"]\n  });\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}